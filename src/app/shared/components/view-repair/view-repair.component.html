<div class="container">
    <h2>Reparacion</h2>
    <mat-divider></mat-divider>
    <div class="row border shadow card mt-3">
        <div class="container">
            <h2 class="p-1">Datos de la reparacion</h2>
        </div>
       
        <div class="col">
            <div class="form-group">
                <label for="nombre">ID</label>
                <span class="form-control">{{reparacion._id}}</span>
            </div>
            <div class="form-group">
                <label for="nombre">Fecha de ingreso</label>
                <span class="form-control">{{reparacion.fecha}}</span>
            </div>
        </div>

        <div class="col">
            <div class="form-group">
                <label for="nombre">Estado General</label>
                <span class="form-control">{{reparacion.estado}}</span>
            </div>
        </div>

    </div>

    <div class="row mt-3">

        <div class="col shadow card m-1">
            <h2 class="p-1">Cliente</h2>
            <div class="form-group">
                <label for="nombre">Nombre y Apellido</label>
                <span class="form-control">{{reparacion.cliente.nombre+" "+reparacion.cliente.apellido}}</span>
            </div>

            <div class="form-group">
                <label for="nombre">Dni</label>
                <span class="form-control">{{reparacion.cliente.dni}}</span>
            </div>

            <div class="form-group">
                <label for="nombre">Telefono</label>
                <span class="form-control">{{reparacion.cliente.telefono}}</span>
            </div>

        </div>
        <div class="col shadow card m-1">
            <h2 class="p-1">Empleados</h2>
            <div class="form-group">
                <label for="nombre">Recepcion</label>
                <span class="form-control">{{reparacion.empleado.nombre}}</span>
            </div>

            <div class="form-group">
                <label for="nombre">Tecnico</label>
                <span class="form-control">{{reparacion.empleado.dni}}</span>
            </div>

        </div>
    </div>

    <div class="row mt-3 shadow card">
        <h2 class="p-1">Dispositivos</h2>
        <div class="pl-3 pr-3">
            <mat-divider></mat-divider>
        </div>
        <div class="container mt-2" *ngFor="let disp of reparacion.list_dispositivos; let i = index">
            <div class="row">
                <div class="col">
                    <h3 class="p-3">Dispositivo#{{i+1}}</h3>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="nombre">Estado</label>
                        <span class="form-control">{{disp.estado}}</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="nombre">Marca</label>
                        <span class="form-control">{{disp.marca}}</span>
                    </div>
                    <div class="form-group">
                        <label for="nombre">Modelo</label>
                        <span class="form-control">{{disp.modelo}}</span>
                    </div>
    
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="nombre">Codigo</label>
                        <span class="form-control">{{disp.codigo}}</span>
                    </div>
                    <div class="form-group">
                        <label for="nombre">Patron</label>
                        <span class="form-control">{{disp.patron}}</span>
                    </div>
    
                </div>
            </div>
            <div *ngIf="disp.list_item_reparacion == 0" class="card shadow mt-3 mb-3">
                <h2 class="p-1">Reparaciones para {{disp.marca+" "+disp.modelo}}</h2>
                <h3 class="card-title text-center">No se han agregado reparaciones a este dispositivo</h3>
            </div>
            <div  class="repraciones caja shadow mt-3 mb-3">
                <h2 class="p-1">Reparaciones para {{disp.marca+" "+disp.modelo}}</h2>
                <div class="pl-3 pr-3">
                    <mat-divider></mat-divider>
                </div>
                <div class="row mt-3" *ngFor="let rep of disp.list_item_reparacion; let j = index">
                    <div class="col-4">
                        <div class="card m-1 shadow">
                            <div class="card-body">
                                <div class="form-group">
                                    <label for="nombre">Reparacion#{{j+1}}</label>
                                    <span class="form-control">{{rep.item.nombre}}</span>
                                </div>
                                <div class="form-group">
                                    <label for="nombre">Estado</label>
                                    <span class="form-control">{{rep.estado}}</span>
                                </div>
                                <div class="form-group">
                                    <label for="nombre">Precio</label>
                                    <span class="form-control">{{rep.item.precio}}</span>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                </div>
            </div>

        </div>
    </div>
</div>